import sys

input = sys.stdin.readline

figure = [
    [[0, 0], [0, 1], [1, 0], [1, 1]],
    [[0, 0], [0, 1], [0, 2], [0, 3]],
    [[0, 0], [1, 0], [2, 0], [3, 0]],
    [[0, 0], [0, 1], [0, 2], [-1, 2]],
    [[0, 0], [1, 0], [2, 0], [2, 1]],
    [[0, 0], [1, 0], [0, 1], [0, 2]],
    [[0, 0], [0, 1], [1, 1], [2, 1]],
    [[0, 0], [0, 1], [-1, 1], [-1, 2]],
    [[0, 0], [1, 0], [1, 1], [2, 1]],
    [[0, 0], [0, 1], [0, 2], [-1, 1]],
    [[0, 0], [1, 0], [2, 0], [1, 1]],
    [[0, 0], [0, 1], [0, 2], [1, 1]],
    [[0, 0], [0, 1], [-1, 1], [1, 1]],
    [[0, 0], [0, 1], [1, 1], [1, 2]],
    [[0, 0], [1, 0], [1, -1], [2, -1]],
    [[0, 0], [1, 0], [1, 1], [1, 2]],
    [[0, 0], [0, 1], [1, 0], [2, 0]],
    [[0, 0], [0, 1], [0, 2], [1, 2]],
    [[0, 0], [1, 0], [2, 0], [2, -1]]
]

n, m = map(int, input().split())
maps = [[0] * (m + 11) for _ in range(n + 11)]
ans = 0

for i in range(1, n + 1):
    row = list(map(int, input().split()))
    for j in range(1, m + 1):
        maps[i][j] = row[j - 1]


for a in range(1, n + 1):
    for b in range(1, m + 1):
        for c in range(0, 19):
            hap = 0
            for d in range(0, 4):
                x = a + figure[c][d][0]
                y = b + figure[c][d][1]

                if not maps[x][y]:
                    hap = 0
                    break
                hap += maps[x][y]
            ans = max(ans, hap)
print(ans)
